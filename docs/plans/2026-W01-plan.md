# Plan — 2026-W01

## Theme
Week 1 — Receipt Upload + Storage + DB Skeleton

## Goals (3–6)
- [ ] Boot Postgres + MinIO + Qdrant + API + Streamlit bằng docker compose (runnable demo)
- [ ] Upload receipt image từ Streamlit → lưu MinIO
- [ ] Lưu receipt metadata vào Postgres và hiển thị Receipts list trong Streamlit
- [ ] Có API docs (OpenAPI/Swagger) + sample request/response

## Tasks

### UI (Streamlit)
- [ ] Upload screen:
  - [ ] `st.file_uploader` (jpg/png)
  - [ ] input `purchase_date` (default hôm nay)
  - [ ] button `Upload`
- [ ] Receipts list screen:
  - [ ] list receipts theo user (tạm hardcode user_id)
  - [ ] click receipt để xem details (id, purchase_date, status)

### API (FastAPI)
- [ ] `GET /health` → `{ "status": "ok" }`
- [ ] `POST /receipts` (multipart upload)
  - [ ] validate file type/size cơ bản
  - [ ] upload vào MinIO
  - [ ] insert record vào `receipts`
- [ ] `GET /receipts?user_id=...`
- [ ] `GET /receipts/{id}`

### Data/Infra
- [ ] Postgres schema tối thiểu:
  - [ ] `users`
  - [ ] `receipts`
- [ ] MinIO bucket init (e.g. `receipts`)
- [ ] docker-compose:
  - [ ] env wiring `.env`
  - [ ] volumes cho Postgres/MinIO
- [ ] `.env.example`

### ML/AI
- [ ] (Skip for W01) — focus infra + upload flow

## Demo checklist
- [ ] `docker compose up` chạy được tất cả services
- [ ] Mở Streamlit → upload 1 ảnh
- [ ] Thấy receipt xuất hiện trong list
- [ ] API docs mở được ở `/docs`

## Notes / Risks
- Nếu auth chưa làm: hardcode `user_id` = 1 user seeded trong DB.
